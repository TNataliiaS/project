{"version":3,"sources":["main.js"],"names":["document","addEventListener","header","getElementById","headerHeight","offsetHeight","firstElHeight","firstEl","window","siteNavShow","add","scrollY","classList","remove","toggleByLink","querySelectorAll","bodyDisableScroll","querySelector","burgerToggle","links","toggle","headerShow","forEach","e","i","href","getAttribute","scrollTarget","event","topOffset","offsetPosition","elementPosition","getBoundingClientRect","top","projectsItem","getScrollbarWidth","scrollbarWidth","Math","itemSelected","documentElement","clientWidth","concat","itemSelectedBtn","onclick","popup","test","navigator","userAgent","sourcetag","popupImages","j","length","_loop","projectWrapper","imgtag","sourceInitial","sourceWebp","replaceWith","imgInitial","createElement","cloneNode","style","marginRight","overflow","itemSelectedList","noWebp","prepend","largesourceJpg","noJpg","num","largesourceWebp","src","pictureHeight","newNum","height","slice","altInitial","srcset","target","sourceJpg","hideImagesPopup","alt","display","setTimeout","id"],"mappings":"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","file":"main.min.js","sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\r\n    // Fixed header on scroll\r\n// ****************\r\nconst firstEl = document.getElementById('intro');\r\nconst header = document.getElementById('header');\r\nconst headerHeight = header.offsetHeight;\r\nconst firstElHeight = firstEl.offsetHeight;\r\n\r\nwindow.addEventListener('scroll', () => {\r\n    if (window.scrollY >= firstElHeight - headerHeight) {\r\n        header.classList.add('header_fixed');\r\n    } else {\r\n        header.classList.remove('header_fixed');\r\n    }\r\n});\r\n    // Menu Toggle\r\n// ****************\r\nconst burgerToggle = document.getElementById('burger');\r\nconst headerShow = document.getElementById('header');\r\nconst siteNavShow = document.getElementById('site-nav');\r\nconst toggleByLink = document.querySelectorAll('.site-nav__link');\r\nconst bodyDisableScroll = document.querySelector('body');\r\n\r\nburgerToggle.addEventListener('click', () => {\r\n    burgerToggle.classList.toggle('burger_active');\r\n    headerShow.classList.toggle('header_show');\r\n    siteNavShow.classList.toggle('site-nav_show');\r\n    bodyDisableScroll.classList.toggle('no-scroll');\r\n});\r\n\r\ntoggleByLink.forEach(e => e.addEventListener('click', () => {\r\n    burgerToggle.classList.remove('burger_active');\r\n    headerShow.classList.remove('header_show');\r\n    siteNavShow.classList.remove('site-nav_show');\r\n    bodyDisableScroll.classList.remove('no-scroll');\r\n}));\r\n    // Smooth scoll element\r\n// ****************\r\nconst links = document.querySelectorAll('.smooth-scroll-link');\r\n\r\nfor(let i = 0; i < links.length; i++) {\r\n    links[i].addEventListener('click', function (event) {\r\n        event.preventDefault();\r\n\r\n        let href = this.getAttribute('href').substring(1);\r\n\r\n        const scrollTarget = document.getElementById(href);\r\n\r\n        const topOffset = document.getElementById('header').offsetHeight;\r\n        const elementPosition = scrollTarget.getBoundingClientRect().top;\r\n        const offsetPosition = elementPosition - topOffset;\r\n\r\n        window.scrollBy({\r\n            top: offsetPosition,\r\n            behavior: 'smooth'\r\n        });\r\n    });\r\n}\r\n    const popup = document.getElementById('popup');\r\nconst projectsItem = document.querySelectorAll('.projects__item');\r\n\r\nconst getScrollbarWidth = () => {\r\n    const scrollbarWidth = Math.max(window.innerWidth - document.documentElement.clientWidth, 0);\r\n    return `${scrollbarWidth}px`;\r\n};\r\n\r\nfunction toggleImages() {\r\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        document.querySelector('.projects__popup-wrapper picture').remove();\r\n\r\n        for(let j = 0; j < projectsItem.length; j++) {\r\n            const itemSelected = projectsItem[j];\r\n            const itemSelectedBtn = itemSelected.querySelector('.projects__item-more');\r\n\r\n            itemSelectedBtn.onclick = (() => {\r\n                const imgInitial = itemSelected.querySelector('img');\r\n                // let imgtag = popup.querySelector('img');\r\n                let popupImages = itemSelected.querySelector('picture').cloneNode(true);\r\n                let imgtag = popupImages.querySelector('img');\r\n\r\n                let sourcetag = popupImages.querySelector('source');\r\n                // let sourcetag = popup.querySelector('source');\r\n\r\n                const sourceInitial = imgInitial.getAttribute('src');\r\n                const altInitial = imgInitial.getAttribute('alt');\r\n                let sourceJpg = imgtag.getAttribute('src');\r\n                let sourceWebp = sourcetag.getAttribute('srcset');\r\n\r\n                const projectWrapper = document.querySelector('.projects__popup-wrapper');\r\n                const itemSelectedList = itemSelected.querySelector('.projects__item-list');\r\n                const newO = document.createElement('ul');\r\n\r\n                return function() {\r\n                    imgtag.classList.add('projects__popup-img');\r\n                    imgtag.classList.remove('projects__item-img');\r\n\r\n                    // let we = itemSelected.querySelector('picture').cloneNode(true);\r\n                    // projectWrapper.prepend(we);\r\n                    projectWrapper.prepend(popupImages);\r\n\r\n                    popup.classList.toggle('popup_active');\r\n                    document.querySelector('.header__wrapper').style.marginRight = getScrollbarWidth();\r\n                    document.documentElement.style.marginRight = getScrollbarWidth();\r\n                    document.documentElement.style.overflow = 'hidden';\r\n\r\n                    projectWrapper.append(newO);\r\n                    newO.replaceWith(itemSelectedList);\r\n                    itemSelectedList.classList.add('projects__popup-list');\r\n\r\n                    // projectWrapper.insertAdjacentElement('beforeend', newO);\r\n                    // newO.replaceWith(itemSelectedList);\r\n                    // itemSelectedList.classList.add('projects__popup-list');\r\n\r\n                    let noJpg = sourceJpg.slice(0,-6);\r\n                    let noWebp = sourceWebp.slice(0,-7);\r\n                    let num = sourceInitial.slice(-6, -4);\r\n\r\n                    let largesourceJpg = noJpg + num + '-large.jpg';\r\n                    let largesourceWebp = noWebp + num + '-large.webp';\r\n\r\n                    imgtag.src = largesourceJpg;\r\n                    sourcetag.srcset = largesourceWebp;\r\n\r\n                    imgtag.alt = altInitial;\r\n\r\n                    let pictureHeight = document.querySelector('.projects__popup-wrapper picture');\r\n                    let newNum = imgtag.offsetHeight + 'px';\r\n                    pictureHeight.style.height = newNum;\r\n\r\n\r\n                    // document.querySelector('.projects__popup-wrapper picture').style.display = 'block';\r\n                }\r\n            })(projectsItem[j]);\r\n        }\r\n    }\r\n\r\n    else {\r\n        for(let i = 0; i < projectsItem.length; i++) {\r\n            projectsItem[i].onclick = ((image) => {\r\n                const imgInitial = image.querySelector('img');\r\n                let imgtag = popup.querySelector('img');\r\n                let sourcetag = popup.querySelector('source');\r\n\r\n                const sourceInitial = imgInitial.getAttribute('src');\r\n                const altInitial = imgInitial.getAttribute('alt');\r\n                let sourceJpg = imgtag.getAttribute('src');\r\n                let sourceWebp = sourcetag.getAttribute('srcset');\r\n\r\n                return function() {\r\n                    popup.classList.toggle('popup_active');\r\n                    document.querySelector('.header__wrapper').style.marginRight = getScrollbarWidth();\r\n                    document.documentElement.style.marginRight = getScrollbarWidth();\r\n                    document.documentElement.style.overflow = 'hidden';\r\n\r\n                    let noJpg = sourceJpg.slice(0,-6);\r\n                    let noWebp = sourceWebp.slice(0,-7);\r\n                    let num = sourceInitial.slice(-6, -4);\r\n\r\n                    let largesourceJpg = noJpg + num + '-large.jpg';\r\n                    let largesourceWebp = noWebp + num + '-large.webp';\r\n\r\n                    imgtag.src = largesourceJpg;\r\n                    sourcetag.srcset = largesourceWebp;\r\n\r\n                    imgtag.alt = altInitial;\r\n\r\n                    document.querySelector('.projects__popup-wrapper picture').style.display = 'block';\r\n                }\r\n            })(projectsItem[i]);\r\n        }\r\n    }\r\n}\r\n\r\ntoggleImages();\r\n\r\nconst hideImagesPopup = () => {\r\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){\r\n        document.querySelector('.projects__popup-wrapper picture').remove();\r\n        document.querySelector('.projects__popup-wrapper ul').remove();\r\n    }\r\n\r\n    popup.classList.remove('popup_active');\r\n    // document.querySelector('.projects__popup-wrapper picture').style.display = 'none';\r\n\r\n    setTimeout(() => {\r\n        document.querySelector('.header__wrapper').style.marginRight = '0';\r\n        document.documentElement.style.marginRight = '0';\r\n\t    document.documentElement.style.overflow = 'auto';\r\n    }, 300);\r\n\r\n    if(document.querySelector('.projects__popup-list') !== null) {\r\n        document.querySelector('.projects__popup-list').remove()\r\n    };\r\n}\r\n\r\ndocument.querySelector('.popup__close-btn').addEventListener('click',() => {\r\n    hideImagesPopup();\r\n});\r\n\r\ndocument.addEventListener('click', (e) => {\r\n    if(e.target === document.querySelector('.projects__popup-wrapper')) {\r\n        hideImagesPopup();\r\n    }\r\n\r\n    if(e.target === document.querySelector('.projects__popup-wrapper picture')) {\r\n        hideImagesPopup();\r\n    }\r\n\r\n    if(e.target.id === 'popup') {\r\n        hideImagesPopup();\r\n    }\r\n});\r\n    // let biggestHeight = 0;\r\n// const elements = document.querySelectorAll('.areas-activity__item');\r\n\r\n// for (let i = 0; i < elements.length; ++i) {\r\n//     // const oneEl = elements[i];\r\n//     if (biggestHeight < elements[i].offsetHeight) {\r\n//         biggestHeight = elements[i].offsetHeight;\r\n//     }\r\n// }\r\n// // console.log(biggestHeight);\r\n\r\n// for (let i = 0; i < elements.length; ++i) {\r\n//     // const oneEl = elements[i];\r\n//     elements[i].style.height = biggestHeight + 'px';\r\n// }\r\n});"]}